---
type: pull_request
state: open
branch: bugfix/25-partial-relationship-results â†’ release/0.2.0
created: 2026-02-23T15:57:05Z
updated: 2026-02-23T16:10:58Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/sync-issues-action/pull/28
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
synced: 2026-02-23T16:11:02.709Z
---

# [PR 28](https://github.com/vig-os/sync-issues-action/pull/28) fix: return partial results from fetchIssueRelationships on batch failure

## Summary

- Moves `try/catch` inside the batch loop in `fetchIssueRelationships` so each batch is handled independently
- Schema errors (`"doesn't exist on type"`) `break` immediately (API unavailable, no point continuing)
- Transient errors `warn` per-batch and `continue` to the next, preserving already-fetched relationships
- Exports `GRAPHQL_BATCH_SIZE` for testability
- Adds two new tests: multi-batch partial results on transient error, and schema-error break with partial results

Closes #25

## Test plan

- [x] All 95 existing unit tests pass
- [x] New partial-result tests cover both transient-error and schema-error scenarios
- [ ] `npm run package` rebuilds cleanly
- [x] CI passes

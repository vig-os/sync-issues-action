---
type: pull_request
state: closed (merged)
branch: bugfix/25-partial-relationship-results â†’ release/0.2.0
created: 2026-02-23T15:57:05Z
updated: 2026-02-23T16:12:13Z
author: c-vigo
author_url: https://github.com/c-vigo
url: https://github.com/vig-os/sync-issues-action/pull/28
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
merged: 2026-02-23T16:12:10Z
synced: 2026-02-23T16:13:04.524Z
---

# [PR 28](https://github.com/vig-os/sync-issues-action/pull/28) fix: return partial results from fetchIssueRelationships on batch failure

## Summary

- Moves `try/catch` inside the batch loop in `fetchIssueRelationships` so each batch is handled independently
- Schema errors (`"doesn't exist on type"`) `break` immediately (API unavailable, no point continuing)
- Transient errors `warn` per-batch and `continue` to the next, preserving already-fetched relationships
- Exports `GRAPHQL_BATCH_SIZE` for testability
- Adds two new tests: multi-batch partial results on transient error, and schema-error break with partial results

## Test plan

- [x] All 95 existing unit tests pass
- [x] New partial-result tests cover both transient-error and schema-error scenarios
- [x] `npm run prepare` rebuilds cleanly
- [x] CI passes

Refs: #25


---
---

## Commits

### Commit 1: [12bb18e](https://github.com/vig-os/sync-issues-action/commit/12bb18e7cc1ea8601ccf21a3c022ffe4a77da423) by [c-vigo](https://github.com/c-vigo) on February 23, 2026 at 03:56 PM
fix: return partial results from fetchIssueRelationships on batch failure (#25), 171 files modified (dist/index.js, dist/src/index.d.ts, src/__tests__/unit/index.test.ts, src/index.ts)

### Commit 2: [f8bdb5a](https://github.com/vig-os/sync-issues-action/commit/f8bdb5a023237240981df202f0d93ce5a50ff246) by [c-vigo](https://github.com/c-vigo) on February 23, 2026 at 04:02 PM
chore: run full `npm run prepare` pipeline, 93 files modified (dist/src/__tests__/unit/index.test.js, dist/src/index.js)

---
type: pull_request
state: open
branch: release/0.2.1 â†’ main
created: 2026-02-25T19:31:44Z
updated: 2026-02-25T23:05:29Z
author: vig-os-release-app[bot]
author_url: https://github.com/vig-os-release-app[bot]
url: https://github.com/vig-os/sync-issues-action/pull/37
comments: 0
labels: none
assignees: none
milestone: none
projects: none
relationship: none
synced: 2026-02-26T01:43:14.057Z
---

# [PR 37](https://github.com/vig-os/sync-issues-action/pull/37) Release 0.2.1

## Release 0.2.1

This PR prepares release 0.2.1 for merge to main.

### Release Content

### Added

- Exported `shiftHeadersToMinLevel` utility function for independent unit testing
- **Sync sub-issue relationships into frontmatter** ([#8](https://github.com/vig-os/sync-issues-action/issues/8), [#15](https://github.com/vig-os/sync-issues-action/issues/15))
  - Fetch `parent` and `subIssues` via GraphQL batch query for all synced issues
  - New `sync-sub-issues` action input to control sub-issue syncing (default: `true`)
  - Replace hardcoded `relationship: none` with dynamic `parent` and `children` fields
  - Graceful degradation: emits info message and falls back to `none` if the sub-issues API is unavailable
- **CI/CD pipeline** ([#13](https://github.com/vig-os/sync-issues-action/issues/13))
  - CI workflow with lint, build-dist verification, and test jobs
  - Integration test suite as a reusable workflow with parallel jobs covering issues-only, PRs-only, force-update, include-closed, sub-issues, updated-since, state-file, and default-mode scenarios
  - Three-phase release pipeline: prepare-release (branch + draft PR), release (tag + GitHub Release with provenance attestation), and post-release (dev sync + CHANGELOG reset)
  - `setup-env` and `build-dist` composite actions for consistent environment setup
  - CHANGELOG management CLI (`prepare_changelog.py`) for automated release note preparation
  - Dependabot configuration for automated dependency updates
  - CODEOWNERS file for automated review assignment
  - CodeQL analysis workflow for automated security vulnerability scanning
  - Scorecard workflow for ongoing supply-chain security assessments
  - Security scan workflow for continuous security monitoring

### Changed

- **Sync-issues workflow uses local action checkout** ([#13](https://github.com/vig-os/sync-issues-action/issues/13))
  - Replaced pinned remote ref with `uses: ./` so the workflow always tests the current branch's code
- **Node.js version pinned via `.nvmrc`** ([#13](https://github.com/vig-os/sync-issues-action/issues/13))
  - `.nvmrc` is the single source of truth; `setup-env` and devcontainer read from it

### Fixed

- Corrected heading hierarchy in `formatPRAsMarkdown`: promoted the Comments section header from `##` to `#` and individual comment entry headers from `###` to `##`
- **Release workflow avoids immutable-release upload failures**
  - Generates `checksums-sha256.txt` before creating the GitHub release and attaches it during `gh release create` instead of uploading afterward
  - Hardens floating-tag SHA handling by resolving tags via `git/matching-refs`, validating SHA format, and skipping invalid rollback SHAs
- **`--force-update` does not re-sync issues (only PRs)** ([#10](https://github.com/vig-os/sync-issues-action/issues/10))
  - Added `force-update` action input that bypasses the `hasContentChanged` content-comparison gate
  - When active, all fetched items are re-written (with updated `synced:` frontmatter) even if body content is unchanged
  - Updated `sync-issues.yml` workflow to pass the `force-update` dispatch input to the action
- Added `shiftHeadersToMinLevel` helper to re-level headers inside comment bodies so the shallowest header maps to `###`, preventing collisions with outer document structure
- Fixed default `GITHUB_REPOSITORY` in `test-local.sh` from non-existent `vig-os/actions` to `vig-os/sync-issues-action`
- Removed broken fallback command in `test-local.sh` that passed a file path where a directory is required

### Security

- **CodeQL and OpenSSF Scorecard analysis workflows** ([#13](https://github.com/vig-os/sync-issues-action/issues/13))
  - CodeQL scans JavaScript/TypeScript on push and PR
  - Scorecard publishes results to the Security tab via SARIF

### Testing Checklist
- [ ] All tests pass (`npm run test:coverage`)
- [ ] Manual testing complete
- [ ] No critical bugs found
- [ ] Ready for release

### When Ready to Release
Run the **Release** workflow (`workflow_dispatch`) with version `0.2.1`.

This will:
- Bump package.json version
- Set release date in CHANGELOG
- Run full test suite on finalized code
- Create release tag (v0.2.1) and GitHub Release
- Attest build provenance

### Related
- Release automation: #13

